<app-navbar></app-navbar>
<div class=" totBody bg-light">
<div class="container createJob bg-light ">
  <form [formGroup]="addJobForm" >
    <div class="row">
        <div class="col-md-5 p-4 ml-5 mt-4 bg-white ">
            <h3>Request Details</h3>
            <div class="col mt-4">
                <div class="form-group col-4 float-left">
                    <label for="exampleFormControlSelect1">Method</label>
                    <select class="form-control" id="exampleFormControlSelect1" formControlName="method"
                    required>
                      <option value="GET">GET</option>
                      <option value="POST">POST</option>
                    </select>
                  </div>
                <div class="col-8 form-group float-left"> 
                    <label for="usr">Endpoint</label>
                    <input type="text" class="form-control" id="usr"
                     placeholder="https://www.google.com/" formControlName="endpoint"
                    required>
                </div>
           </div>

           <div class="col">
            <div class="col-4 form-group float-left"> 
                    <label for="exampleFormControlSelect1">Frequency</label>
                    <select class="form-control" id="exampleFormControlSelect1" formControlName="frequency"
                    required> 
                      <option value="60">60 Seconds</option>
                      <option value="300">5 Minutes</option>
                      <option value="1800">30 Minutes</option>
                      <option value="3600">1 Hour</option>
                    </select>
            </div>
            
            <div class="col-8 form-group float-left "> 
                <label for="exampleFormControlSelect1">Locations</label>
                <select class="form-control" id="exampleFormControlSelect1" formControlName="locations"
                required>
                  <option>Global (default)</option>
                </select>
            </div>
       </div>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-5 p-4 mt-4 bg-white form-group">
            <h3>Assertions</h3>
            <p>We will alert if your target is unreachable or if any assertions fail.</p>
            <div class="col-md-12 assert-bg ">
                <div class="col-6 form-group float-left"> 

                    <label for="exampleFormControlSelect1">Assertion</label>
                     <select class="form-control" id="exampleFormControlSelect1" formControlName="responseType"
                     required>
                       <option>Response code</option>
                    </select>
                </div>
                <div class="col-3 form-group float-left "> 
                    <label for="exampleFormControlSelect2"><br></label>
                     <select class="form-control" id="exampleFormControlSelect2" formControlName="type"
                     required>
                        <option selected>*</option>
                    </select>
                </div> 
                <div class="col-3 form-group float-left"> 
                    <label for="exampleFormControlSelect3">Value</label>
                     <select class="form-control" id="exampleFormControlSelect3" formControlName="responseCode"
                     required>
                        <option>200</option>
                        <option>201</option>
                        <option>202</option>
                    </select>
                </div> 
               
            </div>
        </div>
    </div>


    <div class="row mt-1">
        <div class="col-md-5 p-5 ml-5 mt-4  bg-white" *ngIf="emailSelect">
            <h3>Alert Recipients</h3>
            <div class=" form-group">
              <a> <span class="text-info font-weight-bold" (click)="changeEmailSelect(true)">Email</span></a>
              <a><span class=" ml-4  font-weight-bold" (click)="changeEmailSelect(false)">SMS</span></a> 
               
           </div>

           <div class="form-group  mt-3">
            <label for="usr">Email address</label>
            <input type="text" class="form-control" id="usr" placeholder="alerts@example.com" formControlName="email"
            required>
            
          </div>
        </div>

        <div class="col-md-5 p-5 ml-5 mt-4  bg-white" *ngIf="!emailSelect">
          <h3>Alert Recipients</h3>
          <div class=" form-group">
            <a> <span class=" font-weight-bold" (click)="changeEmailSelect(true)">Email</span></a>
              <a><span class=" ml-4 text-info font-weight-bold" (click)="changeEmailSelect(false)">SMS</span></a> 
             
         </div>

         <div class="form-group  mt-3">
          <label for="usr">Phone Number</label>
          <input type="text" class="form-control" id="usr" placeholder="please enter a phone number" formControlName="phone"
          required>
          
        </div>
      </div>

        <div class="col-md-1"></div>
        <div class="col-md-5 p-5 mt-4 bg-white ">
            <h3>Alert Preferences</h3>
            <p>Failure Tolerance</p>

            <div class="form-check">
                <input class="form-check-input" type="radio"  id="flexRadioDefault1" value="0" formControlName="alert"
                required>
                <label class="form-check-label" for="flexRadioDefault1" >
                  Send an alert anytime there is a problem
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio"  id="flexRadioDefault2" value="3" checked formControlName="alert"
                required>
                <label class="form-check-label" for="flexRadioDefault2">
                  Only send an alert if requests fail continuously
                </label>
              </div>
           
        </div>
    </div>

    <div class="row mt-1">
        <div class="col-md-5 p-5 ml-5 mt-4  bg-white">
            <div class="form-group">
                <label for="usr">Unique Name</label>
                <input type="text" class="form-control" id="usr" placeholder="Update content from endpoint" formControlName="name"
                required>
                <button class=" mt-3 btn btn-danger" [disabled]="!addJobForm.valid" (click)="submitJob()">Save</button>
                <div class=" text-center">
                  <span class=" text-success  mt-3" *ngIf="jobResponse"> Job Successfully Created</span>
                  <span class=" text-danger  mt-3" *ngIf="jobErrorResponse">{{errorMessage}}</span>
               </div> 
              </div>
             
           <div class="col">
            
           </div> 
           
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-5 p-5 mt-4 ">

              
           
           
        </div>
    </div>


</form>
</div>

</div>
